# 附录

<cite>
**本文档中引用的文件**  
- [README.md](file://README.md)
- [CLAUDE.md](file://CLAUDE.md)
- [CHANGELOG.md](file://CHANGELOG.md)
- [config_default.toml](file://config_default.toml)
- [version.py](file://version.py)
- [stock/analysis_prompts.py](file://stock/analysis_prompts.py)
- [utils/risk_metrics.py](file://utils/risk_metrics.py)
- [stock/chip_data_cache.py](file://stock/chip_data_cache.py)
- [stock/etf_holdings_fetcher.py](file://stock/etf_holdings_fetcher.py)
- [market/market_data_tools.py](file://market/market_data_tools.py)
- [ui/components/page_token_stats.py](file://ui/components/page_token_stats.py)
- [ui/components/page_cache_management.py](file://ui/components/page_cache_management.py)
- [ui/config.py](file://ui/config.py)
- [llm/usage_logger.py](file://llm/usage_logger.py)
</cite>

## 目录
1. [术语表](#术语表)
2. [常见问题解答（FAQ）](#常见问题解答faq)
3. [贡献指南](#贡献指南)
4. [许可证说明](#许可证说明)
5. [更新日志](#更新日志)

## 术语表

本术语表旨在帮助新手用户理解项目中使用的关键金融和技术术语。

**KDJ指标**  
KDJ指标是一种动量震荡指标，用于分析股票的超买和超卖状态。它由三条线组成：K线（快速线）、D线（慢速线）和J线（方向线）。KDJ通过计算最高价、最低价和收盘价之间的关系来判断市场趋势和转折点。当K线和D线在低位金叉时，可能预示着买入机会；在高位死叉时，可能预示着卖出信号。

**MACD指标**  
MACD（移动平均收敛发散）指标是一种趋势跟踪动量指标，用于显示两个移动平均线之间的关系。它由三部分组成：MACD线（短期EMA减去长期EMA）、信号线（MACD线的EMA）和柱状图（两者之差）。当MACD线从下向上穿越信号线时，形成“金叉”，视为买入信号；反之则为“死叉”，视为卖出信号。MACD有助于识别趋势的强度、方向和潜在反转。

**RSI指标**  
RSI（相对强弱指数）是一种衡量股票价格变动速度和变化幅度的动量震荡指标，范围在0到100之间。通常，RSI超过70表示超买状态，可能面临回调；低于30表示超卖状态，可能出现反弹。RSI帮助投资者判断市场是否过度反应，并寻找潜在的反转点。

**融资融券**  
融资融券是证券信用交易的一种形式。融资指投资者向券商借入资金购买股票，以期股价上涨后卖出获利；融券指投资者向券商借入股票卖出，以期股价下跌后低价买回归还，赚取差价。融资融券可以放大投资收益，但也增加了风险，是市场杠杆操作的重要方式。

**筹码分布**  
筹码分布是指在不同价格区间内，股票持有者的持仓成本和数量分布情况。它反映了市场中各价位的“平均持仓成本”，帮助分析主力资金的动向和市场潜在的支撑位与压力位。密集的筹码区可能成为未来价格波动的关键区域，而筹码的集中或发散程度也能揭示市场情绪和主力意图。

**Token消耗**  
Token消耗指在调用大语言模型（LLM）API时所使用的输入和输出文本的Token数量。Token是模型处理文本的基本单位，通常一个Token相当于一个词或标点符号。Token消耗直接影响API调用的成本和响应速度。系统通过`llm/usage_logger.py`记录每次调用的Token使用情况，并在“Token统计”页面中提供详细的成本分析和使用趋势，帮助用户优化使用策略。

**Section sources**
- [README.md](file://README.md#L31)
- [CLAUDE.md](file://CLAUDE.md#L150)
- [llm/usage_logger.py](file://llm/usage_logger.py#L1)
- [ui/components/page_token_stats.py](file://ui/components/page_token_stats.py#L1)

## 常见问题解答（FAQ）

汇总了用户在使用本项目时可能遇到的代表性问题及其解决方案。

**为什么分析结果很慢？**  
分析结果慢可能由以下原因导致：  
1. **网络延迟**：数据源（如akshare）或大模型API（如OpenAI、DeepSeek）的网络连接不稳定或延迟较高。  
2. **LLM API延迟**：大模型API的响应时间较长，尤其是在高负载或免费额度用尽时。  
3. **未启用缓存**：如果`config_default.toml`中的`LLM_CACHE.ENABLE_CACHE`设置为`false`，每次分析都会重新调用API，导致重复请求和速度变慢。建议启用缓存以显著提升响应速度。  
4. **模型选择**：选择了较重的推理模型（如`o1`或`deepseek-reasoner`），其处理时间通常比轻量模型长。

**如何降低使用成本？**  
降低使用成本的有效方法包括：  
1. **启用缓存**：在配置文件中将`LLM_CACHE.ENABLE_CACHE`设置为`true`，避免重复的API调用。  
2. **选择轻量模型**：对于日常查询和简单任务，使用轻量级模型如`GPT-4.1-mini`、`o4-mini`或`qwen-turbo`，它们的Token价格更低。  
3. **合理使用模型**：根据任务复杂度选择模型，避免对简单问题使用高成本的推理模型。  
4. **监控Token使用**：通过“Token统计”页面监控使用情况，识别高消耗操作并进行优化。

**找不到某只股票怎么办？**  
如果找不到某只股票，可能的原因和解决方案如下：  
1. **检查数据源支持范围**：本项目主要支持A股、港股通股票和ETF基金。确保股票代码格式正确（如A股为6位数字，港股为5位数字），并确认该股票在数据源（如akshare）的支持范围内。  
2. **检查代码映射**：对于ETF或特定指数，需确认其代码是否在`ui/config.py`的`INDEX_CODE_MAPPING`中定义。  
3. **更新数据源**：数据源可能未包含最新上市的股票，尝试更新akshare库或检查数据源文档。

**Section sources**
- [README.md](file://README.md#L170)
- [config_default.toml](file://config_default.toml#L21)
- [ui/config.py](file://ui/config.py#L58)

## 贡献指南

欢迎用户为项目做出贡献。以下是贡献流程：

**报告Bug**  
如果发现任何错误或异常行为，请在项目的GitHub仓库中创建一个Issue。请提供以下信息：  
- 详细的错误描述和复现步骤  
- 错误发生时的截图或日志信息（可在`logs/`目录中找到）  
- 您的系统环境和项目版本（可通过`version.py`获取）  

**提出功能请求**  
如果您有新的功能想法或改进建议，同样可以通过创建Issue来提出。请清晰描述功能的用途、预期效果和使用场景，以便开发者评估和实现。

**提交代码**  
我们欢迎代码贡献。贡献流程如下：  
1. Fork本仓库并创建您的特性分支（`git checkout -b feature/AmazingFeature`）。  
2. 提交您的更改（`git commit -m 'Add some amazing feature'`）。  
3. 推送到分支（`git push origin feature/AmazingFeature`）。  
4. 打开Pull Request。  
请确保代码符合项目的编码规范（PEP 8），并添加必要的文档字符串和注释。

**Section sources**
- [README.md](file://README.md#L173)
- [CLAUDE.md](file://CLAUDE.md#L140)

## 许可证说明

本项目采用MIT许可证。MIT许可证是一种宽松的开源软件许可证，允许您自由地使用、复制、修改、合并、出版发行、散布、再授权及贩售本软件的副本，以及许可使用者再做以上行为，只需在软件和文档中包含原始的版权声明和许可证声明。

**对用户的意义**：您可以将本项目用于个人或商业用途，无需支付任何费用或承担额外义务。您可以根据自己的需求修改代码，以适应特定的使用场景。

**对贡献者的意义**：您的贡献将被纳入MIT许可证的保护范围内，意味着您的代码也将被自由使用和分发。同时，您保留对所贡献代码的著作权。

完整的许可证文本请参阅项目根目录下的[LICENSE](file://LICENSE)文件。

**Section sources**
- [README.md](file://README.md#L179)
- [CLAUDE.md](file://CLAUDE.md#L180)

## 更新日志

本项目的完整更新历史记录在[CHANGELOG.md](file://CHANGELOG.md)文件中。该文件详细列出了每个版本的功能更新、错误修复和代码变更，帮助用户了解项目的功能演进和改进历程。

您可以通过查看[CHANGELOG.md](file://CHANGELOG.md)来了解：  
- 每个版本新增了哪些功能（如v1.2.0新增的市场情绪分析、ETF持仓分析等）  
- 修复了哪些已知问题  
- 系统架构和性能的优化情况  
- 未来版本的规划和路线图

建议在升级或使用新功能前查阅更新日志，以获得最佳的使用体验。

**Section sources**
- [README.md](file://README.md#L176)
- [CHANGELOG.md](file://CHANGELOG.md)